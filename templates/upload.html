{% extends "base.html" %}
{% block title %}Autosklearn{% endblock %}
{% block head %}
    	{{ super() }}
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>
	//clears page cache
	$(window).bind("pageshow", function() {
	    var form = $('form'); 
	    // let the browser natively reset defaults
	    form[0].reset();
	}); 
        </script>
	
	<script>

	$(document).ready(function(){
    		var requiredCheckboxes = $('.cl-checkbox :checkbox[required]');
    		requiredCheckboxes.change(function(){
        		if(requiredCheckboxes.is(':checked')) {
            			requiredCheckboxes.removeAttr('required');
       			 } else {
            			requiredCheckboxes.attr('required', 'required');
        		}
    		});
	});
	</script>
	
	<script>

	$(document).ready(function(){
    		var requiredCheckboxes = $('.pr-checkbox :checkbox[required]');
    		requiredCheckboxes.change(function(){
        		if(requiredCheckboxes.is(':checked')) {
            			requiredCheckboxes.removeAttr('required');
       			 } else {
            			requiredCheckboxes.attr('required', 'required');
        		}
    		});
	});
	</script>



{% endblock %}

{% block content %}
<form method="post" action="/params" enctype="multipart/form-data">
    <dl>
	    	<div class="row">
		<div class="col-8" >
		<div id="cl_div" >
		<h4><p>Select Classifiers</p></h4>
		<p>
		<div class="form-check">
		{% for cl in ESTIMATORS[0] %}
			<nobr>
			{%if loop.index0 in BOLD_CL %}
	    		<input type="checkbox" name="estim_ls" value="{{cl}}" checked > 
			<strong><label>{{ESTIMATORS[1][loop.index0]}} &nbsp; &nbsp; </label></strong>
			{% else %}
	    		<input type="checkbox" name="estim_ls" value="{{cl}}" > 
	    		<label>{{ESTIMATORS[1][loop.index0]}} &nbsp; &nbsp;  </label>
			{% endif %}
			</nobr>
		{% endfor %}
		</div>
		</p>
		<h4><p>Select Preprocessors</p></h4>
		<p>
		<div class="form-check" >
		{% for pr in PREPROCESSORS[0] %}
	    		<nobr>
			{% if pr == "no_preprocessing" %}
			<input type="checkbox" name="prep_ls" value="{{pr}}" checked >
			{% else %}
			<input type="checkbox" name="prep_ls" value="{{pr}}"  >
			{% endif %}
			<label>{{PREPROCESSORS[1][loop.index0]}} &nbsp; &nbsp; </label>
			</nobr>
		{% endfor %}
		</div>
		</p>
		</div>
		</div>
		
		{% if TASK=="classification" %}
		<div class="col"  style="padding-right:20px; border-left: 1px solid #ccc;">
	    	<div id="meta_data" >
	    	<h3>
			Meta Data Reccomendation: {{REC}}
		</h3>
		{% include "base_results.html" %}
		</div>
		</div>
		{% endif %}

		</div>	
		
		<h4><p>Enter Time Budget in seconds (minimum 30)</p></h4>
	    	<p>	
		      <div class="form-group w-25">
			<input type="text" class="form-control" name="time" required>
		      </div>
		</p>
		<h4><p>Enter Update Period in seconds (minimum 30)</p></h4>
	    	<p>	
		      <div class="form-group w-25">
			<input type="text"class="form-control"  name="period" required>
		      </div>
		</p>
    </dl>
    <p>
		<button type="submit" class="btn btn-primary">Start</button>
	</p>
</form>
{% endblock %}
